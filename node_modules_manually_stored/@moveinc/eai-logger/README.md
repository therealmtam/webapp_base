
### EAI Logging Module

#### A simple logging plugin based on log4js.

Usage:

1.  Initialize the logger once in the environment:
```
const logging = require('@moveinc/eai-logger');

logging.init('project-name', 'min-log-level', 'elk-logging-index', 'package-name');
```

2.  Log messages
```
const logging = require('@moveinc/eai-logger');

logging.get().log('info', 'This is a test log message');
```

3.  EAI Logger Utility - Log timings
```
const EAILogger = require('@moveinc/eai-logger').EAILogger;

var start_time = EAILogger.logMethodDetail(method_name, method_params, correlation_id);

EAILogger.logTiming(method_name, 'function call completed', start_time, correlation_id);
```

4.  Register HapiJS Plugin (Optional)
```
const logging = require('@moveinc/eai-logger');

let ServerLogger = logging.HapiPlugin;

server.register(new ServerLogger(), (err) => logging.get().log('error', err));
```

For more information on log levels and other configuration, see the [Log4js Project](https://github.com/nomiddlename/log4js-node)


5. Environment Variable support in EAILogger

| Variable Name | Purpose |
|---|---|
| TIMING_AS_DEBUGPOINT | When `true` makes logMethodDetail and logTiming output as a debugPoint |
| SUPRESS_TIMING | When `true` suppresse output from logMethodDetail and logTiming |
| SUPRESS_DEBUG_POINT | When `true` suppresse output from debugPoint |
| SUPRESS_LOGGING | When `true` suppresse output from logMethodDetail, logTiming, debugPoint, and log |
